@page
@using Domain.DomainRule
@model RulesModel
@{
    ViewData["Title"] = "Rules";
}

<div class="text-center">
    <h1 class="display-4 mb-5">@Model.MainTitle</h1>
    @if (Model.IsAction) {
        <div class="d-flex justify-content-center mb-3">
            <h5>@Model.StatusMsg</h5>
        </div>
        <div class="d-flex justify-content-center mb-3">
            <a href="@Request.Path.Value" class="btn btn-lg mx-1 btn-primary">Ok</a>
        </div>
    } else {
        <form method="POST">
            <table class="table table-sm mb-3">
                <thead>
                <tr>
                    <th scope="col">Rule</th>
                    <th scope="col">Value</th>
                    <th scope="col">Min val</th>
                    <th scope="col">Max val</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var rule in Rules.RuleSet) {
                    <tr>
                        <td>@rule.RuleType</td>
                        <td>
                            <input class="form-control form-control-sm" type="text" name="@((int) rule.RuleType)" placeholder="@rule.Value">
                        </td>
                        <td>@rule.MinVal</td>
                        <td>@rule.MaxVal</td>
                    </tr>
                }
                </tbody>
            </table>
            <div class="d-flex justify-content-center mb-3">
                <button type="submit" class="btn btn-lg mx-1 btn-primary">Save</button>
                <a href="?reset" class="btn btn-lg mx-1 btn-warning">Reset all</a>
                <a href="@Model.BackBtnHref" class="btn btn-lg mx-1 btn-secondary">Go back</a>
            </div>
        </form>
    }
</div>